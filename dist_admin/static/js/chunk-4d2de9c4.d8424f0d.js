(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d2de9c4"],{2934:function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"n",(function(){return i})),r.d(t,"m",(function(){return u})),r.d(t,"o",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return m})),r.d(t,"k",(function(){return f})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return b})),r.d(t,"a",(function(){return g})),r.d(t,"l",(function(){return h})),r.d(t,"d",(function(){return y}));var a=r("b775");function n(e){return Object(a["a"])({url:"/dicCode/queryAdminDicByType?type=".concat(e),method:"post"})}function o(e){return Object(a["a"])({url:"/dicCode/addDicCode",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/dicCode/queryDicValueByType",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/dicCode/queryDicById",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/dicCode/updateDicCode",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/dicCode/deleteDicCode",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/dicCode/queryAdminDicByType?type=CITY&parentId=".concat(e),method:"post"})}function l(e){return Object(a["a"])({url:"/dicCode/queryAdminDicByType?type=district&parentId=".concat(e),method:"post"})}function m(e){return Object(a["a"])({url:"/dicCode/queryAdminDicByType?type=EQUI_MODEL&parentId=".concat(e),method:"post"})}function f(e){return Object(a["a"])({url:"/dicCode/queryAdminDicByType?type=PARTS_TYPE_TWO&parentId=".concat(e),method:"post"})}function p(e){return Object(a["a"])({url:"/dicCode/queryAdminDicByType?type=PARTS_TYPE_THREE&parentId=".concat(e),method:"post"})}function b(e){return Object(a["a"])({url:"/dicCode/getList?types=".concat(e),method:"post"})}function g(e){return Object(a["a"])({url:"/applyJob/addApplyRecord",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/applyJob/queryApplyJobGroup",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/excel/uploadExcel",method:"post",data:e})}},a43e:function(e,t,r){"use strict";var a=r("bd7b"),n=r.n(a);n.a},a593:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"pageContainer",staticClass:"pageContainer"},[r("div",{ref:"pageSearch",staticClass:"pageSearch"},[r("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("el-collapse-item",{attrs:{title:e.title,name:"1"}},[r("div",{staticClass:"searchRow"},[r("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"250px",size:"small"}},[r("el-form-item",{attrs:{label:"型号名称：",prop:"lable"}},[r("el-input",{model:{value:e.form.lable,callback:function(t){e.$set(e.form,"lable",t)},expression:"form.lable"}})],1),r("el-form-item",{attrs:{label:"型号备注："}},[r("el-input",{attrs:{type:"textarea",resize:"none",placeholder:"请输入内容",maxlength:"200","show-word-limit":""},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),r("el-form-item",{attrs:{label:"配件配图："}},[r("el-upload",{attrs:{action:e.imgHttp,headers:{token:e.token},accept:"image/jpeg, image/png","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),r("P",{staticClass:"text"},[e._v("请保证图片格式正确(PNG、JPEG)")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("提交")]),r("el-button",{on:{click:function(t){return e.returnBtn()}}},[e._v("返回")])],1)],1)],1)])],1)],1)])},n=[],o=r("5f87"),i=r("2934"),u={data:function(){var e=function(e,t,r){var a=/^[\u4e00-\u9fa5A-Za-z0-9-\_]+$/;if(!t)return r(new Error("类型不能为空"));a.test(t)?r():r(new Error("类型格式不正确"))};return{imgHttp:this.$store.state.settings.socketURL+"/upload/image",imgURL:this.$store.state.settings.imgURL,imageUrl:"",token:Object(o["a"])(),activeNames:["1"],title:"",disabledHR:!1,form:{type:"EQUI_MODEL",lable:"",value:"",remarks:"",defaultImage:""},rules:{lable:[{required:!0,message:"请输入型号名称",trigger:"blur"},{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],value:[{required:!0,validator:e,trigger:"blur"}]}}},mounted:function(){this.addOrEdit()},methods:{addOrEdit:function(){var e=this,t=e.$route.query.id;if(t){e.title="修改型号";var r={id:t};Object(i["m"])(r).then((function(t){e.form.id=t.data.id,e.form.type="EQUI_MODEL",e.form.lable=t.data.lable,e.form.value=t.data.value,e.form.remarks=t.data.remarks,e.form.defaultImage=t.data.defaultImage,t.data.defaultImage&&(e.imageUrl=e.imgURL+t.data.defaultImage)})),e.disabledHR=!0}else e.title="添加型号",e.disabledHR=!1},queryValue:function(){var e=this;if(this.form.value){var t={type:"EQUI_MODEL",value:this.form.value};Object(i["n"])(t).then((function(t){console.log(t),"value可以使用"==t.msg&&e.$message.success("类型可以使用")}))}},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var r=t,a=r.$route.query.id;if(a){var n=r.form;Object(i["o"])(n).then((function(e){r.$message.success(e.msg),r.$router.push({name:"ProductLine"})}))}else{r.form.parentId=r.$route.query.parentId;var o=r.form;Object(i["b"])(o).then((function(e){r.$message.success(e.msg),r.$router.push({name:"ProductLine"})}))}}))},returnBtn:function(){this.$router.push({name:"ProductLine"})},handleAvatarSuccess:function(e,t){this.form.defaultImage=e.data[0],this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<10;return-1==["image/jpeg","image/jpg","image/png"].indexOf(e.type)?(this.$message.error("请上传正确的图片格式哦!"),!1):!!t||(this.$message.error("上传图片大小不能超过10MB哦!"),!1)}},destroyed:function(){window.onresize=null}},c=u,s=(r("a43e"),r("2877")),d=Object(s["a"])(c,a,n,!1,null,null,null);t["default"]=d.exports},bd7b:function(e,t,r){}}]);