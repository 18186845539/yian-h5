(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71486b60"],{"3dc2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"pageContainer",staticClass:"pageContainer"},[a("div",{ref:"pageSearch",staticClass:"pageSearch"},[a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"用户上线-图形统计",name:"1"}},[a("div",{staticClass:"searchRow"},[a("span",[a("span",[t._v("开始时间：")]),a("span",[a("el-date-picker",{attrs:{type:"date",placeholder:"开始时间","value-format":"yyyy-MM-dd",size:"small",clearable:""},model:{value:t.pageQuery.startTime,callback:function(e){t.$set(t.pageQuery,"startTime",e)},expression:"pageQuery.startTime"}})],1)]),a("span",[a("span",[t._v("结束时间：")]),a("span",[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"结束时间",size:"small",clearable:""},model:{value:t.pageQuery.endTime,callback:function(e){t.$set(t.pageQuery,"endTime",e)},expression:"pageQuery.endTime"}})],1)]),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.seach()}}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.toListStatis()}}},[t._v("用户上线-列表统计")])],1)]),a("div",{staticClass:"searchRowmain"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{"element-loading-text":"数据查询中请稍后。。。",id:"myChart"}}),a("div",{staticClass:"AcceptanceOrders"},[t._v(t._s(t.Total.YY))]),a("div",{staticClass:"AcceptanceOrders AcceptanceOrders1"},[t._v(t._s(t.Total.QD))]),a("div",{staticClass:"AcceptanceOrders AcceptanceOrders2"},[t._v(t._s(t.Total.YG))])])])],1)],1)])},r=[],i=a("f855"),o={data:function(){return{activeNames:["1"],Total:{YG:0,YY:0,QD:0},pageQuery:{startTime:"",endTime:""},listLoading:!0}},mounted:function(){this.fetchListData(),this.drawLine()},methods:{drawLine:function(){var t=this.$echarts.init(document.getElementById("myChart"));t.setOption({title:{text:"用户上线统计",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["医院","渠道","员工"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},fetchListData:function(){var t=this;this.listLoading=!0;var e=this.pageQuery;Object(i["c"])(e).then((function(e){t.listLoading=!1;var a=t.$echarts.init(document.getElementById("myChart")),n=e.data.filter((function(t){return 1==t.userType})),r=e.data.filter((function(t){return 2==t.userType})),i=e.data.filter((function(t){return 3==t.userType})),o=n[0].onlineCount+r[0].onlineCount+i[0].onlineCount;a.setOption({series:[{data:[{value:n[0].onlineCount,name:"员工",label:{normal:{formatter:["{title|{b}}{abg|}"," ","  "+(n[0].onlineCount/o*100).toFixed(2)+"% "," "].join("\n"),backgroundColor:"#eee",borderColor:"#777",rich:{title:{color:"#eee",align:"center"},abg:{backgroundColor:"#c93236",width:"100%",align:"right",height:25,borderRadius:[4,4,0,0]}}}}},{value:r[0].onlineCount,name:"医院",label:{normal:{formatter:["{title|{b}}{abg|}"," ","  "+(r[0].onlineCount/o*100).toFixed(2)+"% "," "].join("\n"),backgroundColor:"#eee",borderColor:"#777",rich:{title:{color:"#eee",align:"center"},abg:{backgroundColor:"#2b4453",width:"100%",align:"right",height:25,borderRadius:[4,4,0,0]}}}}},{value:i[0].onlineCount,name:"渠道",label:{normal:{formatter:["{title|{b}}{abg|}"," ","  "+(i[0].onlineCount/o*100).toFixed(2)+"% "," "].join("\n"),backgroundColor:"#eee",borderColor:"#777",rich:{title:{color:"#eee",align:"center"},abg:{backgroundColor:"#5fb0b7",width:"100%",align:"right",height:25,borderRadius:[4,4,0,0]}}}}}]}]}),console.log(e.data),t.Total={YG:n[0].onlineCount,YY:r[0].onlineCount,QD:i[0].onlineCount}}))},seach:function(){this.fetchListData()},toListStatis:function(){this.$router.push({name:"UserOnlineListStatis"})}},destroyed:function(){window.onresize=null}},s=o,l=(a("f053"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"60d2b9b4",null);e["default"]=c.exports},b930:function(t,e,a){},f053:function(t,e,a){"use strict";var n=a("b930"),r=a.n(n);r.a},f855:function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"f",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return u}));var n=a("b775");function r(t){return Object(n["a"])({url:"dataStatistics/queryProductlineCountPic",method:"post",data:t})}function i(t){return Object(n["a"])({url:"dataStatistics/queryProductlineCountForm",method:"post",data:t})}function o(t){return Object(n["a"])({url:"dataStatistics/queryOrderPic",method:"post",data:t})}function s(t){return Object(n["a"])({url:"dataStatistics/queryOrderForm",method:"post",data:t})}function l(t){return Object(n["a"])({url:"dataStatistics/queryOnlinePic",method:"post",data:t})}function c(t){return Object(n["a"])({url:"dataStatistics/queryOnlineForm",method:"post",data:t})}function u(t){return Object(n["a"])({url:"dataStatistics/queryEmployeeOrderPic",method:"post",data:t})}}}]);