(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e03faa5"],{"0cc0":function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"m",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"p",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"l",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"o",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"k",(function(){return m})),a.d(t,"a",(function(){return h})),a.d(t,"j",(function(){return g})),a.d(t,"q",(function(){return y})),a.d(t,"n",(function(){return b})),a.d(t,"e",(function(){return v})),a.d(t,"b",(function(){return S}));var r=a("b775");function n(e){return Object(r["a"])({url:"/hospital/queryHospitalList",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/hospital/registerHospital",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/hospital/queryHospitalInfoById",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/hospital/updHospitalInfoById",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/hospital/delHospitalInfo?ids=".concat(e),method:"post"})}function c(e){return Object(r["a"])({url:"/channel/queryChannelList",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/channel/registerChannel",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/channel/queryChannelInfoById",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/channel/updChannelInfoById",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/channel/delChannelInfo?ids=".concat(e),method:"post"})}function m(e){return Object(r["a"])({url:"/staff/queryStaffList",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/staff/addStaffInfo",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/staff/queryStaffInfoById",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/staff/updStaffInfoById",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/staff/resetPassword",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/staff/delStaffInfo?ids=".concat(e),method:"post"})}function S(e){return Object(r["a"])({url:"/admin/isExist",method:"post",data:e})}},2934:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"n",(function(){return o})),a.d(t,"m",(function(){return s})),a.d(t,"o",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return p})),a.d(t,"k",(function(){return f})),a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return h})),a.d(t,"a",(function(){return g})),a.d(t,"l",(function(){return y})),a.d(t,"d",(function(){return b}));var r=a("b775");function n(e){return Object(r["a"])({url:"/dicCode/queryAdminDicByType?type=".concat(e),method:"post"})}function i(e){return Object(r["a"])({url:"/dicCode/addDicCode",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/dicCode/queryDicValueByType",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/dicCode/queryDicById",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/dicCode/updateDicCode",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/dicCode/deleteDicCode",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/dicCode/queryAdminDicByType?type=CITY&parentId=".concat(e),method:"post"})}function d(e){return Object(r["a"])({url:"/dicCode/queryAdminDicByType?type=district&parentId=".concat(e),method:"post"})}function p(e){return Object(r["a"])({url:"/dicCode/queryAdminDicByType?type=EQUI_MODEL&parentId=".concat(e),method:"post"})}function f(e){return Object(r["a"])({url:"/dicCode/queryAdminDicByType?type=PARTS_TYPE_TWO&parentId=".concat(e),method:"post"})}function m(e){return Object(r["a"])({url:"/dicCode/queryAdminDicByType?type=PARTS_TYPE_THREE&parentId=".concat(e),method:"post"})}function h(e){return Object(r["a"])({url:"/dicCode/getList?types=".concat(e),method:"post"})}function g(e){return Object(r["a"])({url:"/applyJob/addApplyRecord",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/applyJob/queryApplyJobGroup",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/excel/uploadExcel",method:"post",data:e})}},"350a":function(e,t,a){"use strict";a.d(t,"y",(function(){return n})),a.d(t,"r",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"t",(function(){return s})),a.d(t,"x",(function(){return l})),a.d(t,"Q",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"L",(function(){return d})),a.d(t,"K",(function(){return p})),a.d(t,"u",(function(){return f})),a.d(t,"d",(function(){return m})),a.d(t,"D",(function(){return h})),a.d(t,"S",(function(){return g})),a.d(t,"j",(function(){return y})),a.d(t,"I",(function(){return b})),a.d(t,"e",(function(){return v})),a.d(t,"H",(function(){return S})),a.d(t,"T",(function(){return w})),a.d(t,"k",(function(){return C})),a.d(t,"B",(function(){return I})),a.d(t,"q",(function(){return O})),a.d(t,"s",(function(){return j})),a.d(t,"A",(function(){return x})),a.d(t,"R",(function(){return L})),a.d(t,"i",(function(){return k})),a.d(t,"z",(function(){return _})),a.d(t,"J",(function(){return D})),a.d(t,"M",(function(){return T})),a.d(t,"n",(function(){return N})),a.d(t,"N",(function(){return B})),a.d(t,"O",(function(){return P})),a.d(t,"G",(function(){return A})),a.d(t,"p",(function(){return Q})),a.d(t,"C",(function(){return q})),a.d(t,"V",(function(){return $})),a.d(t,"m",(function(){return z})),a.d(t,"F",(function(){return R})),a.d(t,"o",(function(){return E})),a.d(t,"E",(function(){return U})),a.d(t,"U",(function(){return F})),a.d(t,"l",(function(){return M})),a.d(t,"v",(function(){return V})),a.d(t,"c",(function(){return J})),a.d(t,"w",(function(){return G})),a.d(t,"P",(function(){return Y})),a.d(t,"g",(function(){return H})),a.d(t,"b",(function(){return K})),a.d(t,"a",(function(){return W}));var r=a("b775");function n(e){return Object(r["a"])({url:"/applyJob/queryApplyJobGroupList",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/applyJob/isExist",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/applyJob/checkDeviceExisAdmin",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/applyJob/productRepairAdmin",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/applyJob/queryApplyJob",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/applyJob/updApplyJobInfo",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/applyJob/delApplyJobInfo?ids=".concat(e),method:"post"})}function d(e){return Object(r["a"])({url:"/serviceEvaluate/queryServiceEvaluate",method:"post",data:e})}function p(e){return Object(r["a"])({url:"reportType/queryReportByGroupId?assignId=".concat(e),method:"post"})}function f(e){return Object(r["a"])({url:"/customerAdmin/queryAdminCustomerList",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/customerAdmin/addCustomerInfoById",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/customerAdmin/queryCustomernfoById",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/customerAdmin/updCustomerInfoById",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/customerAdmin/delCustomerInfo?ids=".concat(e),method:"post"})}function b(e){return Object(r["a"])({url:"/productInfo/queryProductInfoList",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/productInfo/addProductInfo",method:"post",data:e})}function S(e){return Object(r["a"])({url:"/productInfo/queryProductInfoById",method:"post",data:e})}function w(e){return Object(r["a"])({url:"/productInfo/updProductInfoById",method:"post",data:e})}function C(e){return Object(r["a"])({url:"/productInfo/delProductInfo?ids=".concat(e),method:"post"})}function I(e){return Object(r["a"])({url:"/productArchives/queryArchivesListNew",method:"post",data:e})}function O(e){return Object(r["a"])({url:"/productArchives/insertProductArchivesNew",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/productArchives/isExist",method:"post",data:e})}function x(e){return Object(r["a"])({url:"/productArchives/queryArchivesDetailNew",method:"post",data:e})}function L(e){return Object(r["a"])({url:"/productArchives/updArchivesInfoNew",method:"post",data:e})}function k(e){return Object(r["a"])({url:"/productArchives/delArchivesInfo?ids=".concat(e),method:"post"})}function _(e){return Object(r["a"])({url:"/productArchives/queryArchivesDetail",method:"post",data:e})}function D(e){return Object(r["a"])({url:"/customerService/queryRecordsList",method:"post",data:e})}function T(e){return Object(r["a"])({url:"/customerService/replyById",method:"post",data:e})}function N(e){return Object(r["a"])({url:"/customerService/deteteConsulting?ids=".concat(e),method:"post"})}function B(e){return Object(r["a"])({url:"/customerService/replyContent",method:"post",data:e})}function P(e){return Object(r["a"])({url:"/checkcenter/socket/push/".concat(e),method:"post"})}function A(e){return Object(r["a"])({url:"/partsBuy/queryPartsList",method:"post",data:e})}function Q(e){return Object(r["a"])({url:"/partsBuy/insertPartsBuy",method:"post",data:e})}function q(e){return Object(r["a"])({url:"/partsBuy/queryBuyInfoById",method:"post",data:e})}function $(e){return Object(r["a"])({url:"/partsBuy/updatePartsBuyById",method:"post",data:e})}function z(e){return Object(r["a"])({url:"/partsBuy/deletePartdBuyById?ids=".concat(e),method:"post"})}function R(e){return Object(r["a"])({url:"/repairSkillGuidance/queryGuidanceList",method:"post",data:e})}function E(e){return Object(r["a"])({url:"/repairSkillGuidance/insertGuidance",method:"post",data:e})}function U(e){return Object(r["a"])({url:"/repairSkillGuidance/queryGuidanceInfoById",method:"post",data:e})}function F(e){return Object(r["a"])({url:"/repairSkillGuidance/updateGuidance",method:"post",data:e})}function M(e){return Object(r["a"])({url:"/repairSkillGuidance/deleteGiudance?ids=".concat(e),method:"post"})}function V(e){return Object(r["a"])({url:"/afterServicePic/queryAfterService",method:"post",data:e})}function J(e){return Object(r["a"])({url:"/afterServicePic/addAfterService",method:"post",data:e})}function G(e){return Object(r["a"])({url:"/afterServicePic/queryAfterServiceInfoById",method:"post",data:e})}function Y(e){return Object(r["a"])({url:"/afterServicePic/updAfterServiceInfoById",method:"post",data:e})}function H(e){return Object(r["a"])({url:"/afterServicePic/delAfterServiceInfo?ids=".concat(e),method:"post"})}function K(e){return Object(r["a"])({url:"/applyJob/queryGroupAndStaffInfoByGroupId",method:"post",data:e})}function W(e){return Object(r["a"])({url:"/applyJob/queryGroupHistoryByGroupId",method:"post",data:e})}},"65d4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"pageContainer",staticClass:"pageContainer"},[a("div",{ref:"pageSearch",staticClass:"pageSearch"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"添加员工工单",name:"1"}},[a("div",{staticClass:"searchRow"},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"200px",size:"small"}},[a("el-form-item",{attrs:{label:"序列号：",prop:"deviceId"}},[a("el-input",{staticStyle:{width:"200px"},on:{blur:function(t){return e.setDeviceId()}},model:{value:e.form.deviceId,callback:function(t){e.$set(e.form,"deviceId",t)},expression:"form.deviceId"}})],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品线：",prop:"productLine"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择",clearable:""},on:{change:e.productLineChange},model:{value:e.form.productLine,callback:function(t){e.$set(e.form,"productLine",t)},expression:"form.productLine"}},e._l(e.productLines,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"型号：",prop:"model"}},[a("el-select",{attrs:{disabled:e.disabledModel,placeholder:"请选择",clearable:""},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}},e._l(e.models,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"选择客户：",prop:"customerName"}},[a("el-table",{attrs:{data:e.clientData}},[a("el-table-column",{attrs:{property:"customerName",label:"客户名称",align:"center"}}),a("el-table-column",{attrs:{property:"useDepartment",label:"科室",align:"center"}}),a("el-table-column",{attrs:{property:"contacts",label:"联系人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"text",maxlength:"10"},on:{input:function(t){return e.change(t)}},model:{value:e.form.contacts,callback:function(t){e.$set(e.form,"contacts",t)},expression:"form.contacts"}})]}}])}),a("el-table-column",{attrs:{property:"phone",label:"电话",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"text",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})]}}])})],1)],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请类型：",prop:"applyType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.applyType,callback:function(t){e.$set(e.form,"applyType",t)},expression:"form.applyType"}},e._l(e.applyTypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"故障类型：",prop:"faultType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.faultType,callback:function(t){e.$set(e.form,"faultType",t)},expression:"form.faultType"}},e._l(e.faultTypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"指派员工：",prop:"staffId"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectStaff(e.staffId)}}},[e._v("选择员工")]),a("el-table",{attrs:{data:e.staffData}},[a("el-table-column",{attrs:{property:"staffName",label:"员工姓名",align:"center"}}),a("el-table-column",{attrs:{property:"phone",label:"电话",align:"center"}}),a("el-table-column",{attrs:{property:"province",label:"省份",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"100%",height:"25px",overflow:"hidden"}},[e._l(t.row.province1,(function(r,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.province1.length-1!=n,expression:"scope.row.province1.length -1 != index"}],key:n,staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v(e._s(r+","))])})),e._l(t.row.province1,(function(r,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.province1.length-1==n,expression:"scope.row.province1.length-1==index1"}],key:n,staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v(e._s(r))])}))],2)]}}])}),a("el-table-column",{attrs:{property:"city",label:"城市",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dicFilter")(t.row.city,e.cityes)))]}}])})],1)],1),a("el-form-item",{attrs:{label:"预约时间：",prop:"appointmentDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd"},model:{value:e.form.appointmentDate,callback:function(t){e.$set(e.form,"appointmentDate",t)},expression:"form.appointmentDate"}})],1),a("el-form-item",{attrs:{label:"物料编码：",prop:"materielCode"}},[a("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^0-9-]+/,'');",placeholder:"请输入物料编码，若多个以逗号分隔。"},model:{value:e.form.materielCode,callback:function(t){e.$set(e.form,"materielCode",t)},expression:"form.materielCode"}})],1),a("el-form-item",{attrs:{label:"故障描述："}},[a("el-input",{attrs:{type:"textarea",resize:"none",placeholder:"请输入内容",maxlength:"200",rows:3,"show-word-limit":""},model:{value:e.form.faultDescribe,callback:function(t){e.$set(e.form,"faultDescribe",t)},expression:"form.faultDescribe"}})],1),a("el-form-item",{attrs:{label:"上传图片："}},[a("el-upload",{ref:"upload",attrs:{action:e.imgHttp,headers:{token:e.token},accept:"image/jpeg, image/png","auto-upload":!1,multiple:!0,"list-type":"picture-card","file-list":e.imagesList,"on-remove":e.removeImg,"before-remove":e.beforeRemove,"before-upload":e.beforeUploadImg,"on-change":e.fileChange,"on-success":e.fileUploadSuccess,"on-exceed":e.exceedAstrict,limit:3}},[a("i",{staticClass:"el-icon-plus"})]),a("P",{staticClass:"text"},[e._v("请保证图片格式正确(PNG、JPEG)，且不超过10M,最多上传三张")])],1),a("el-form-item",{attrs:{label:"视频上传：",prop:"video"}},[a("el-upload",{staticClass:"avatar-uploader el-upload--text",attrs:{action:e.imgHttp,headers:{token:e.token},accept:"video/mp4, video/ogg, video/flv, video/avi, video/wmv, video/rmvb","show-file-list":!1,"file-list":e.vidoList,"on-success":e.handleVideoSuccess,"before-upload":e.beforeUploadVideo,"on-progress":e.uploadVideoProcess}},[""!=e.form.video&&0==e.videoFlag?a("video",{staticClass:"avatar",staticStyle:{width:"500px"},attrs:{src:e.imgURL+e.form.video,controls:"controls"}},[e._v("您的浏览器不支持视频播放")]):""==e.form.video&&0==e.videoFlag?a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取视频文件")]):e._e(),1==e.videoFlag?a("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"circle",percentage:e.videoUploadPercent}}):e._e()],1),""!=e.form.video?a("el-button",{attrs:{type:"warning"},on:{click:e.delVideo}},[e._v("移除当前视频")]):e._e(),a("P",{staticClass:"text"},[e._v("请保证视频格式正确(mp4、ogg、flv、avi、wmv、rmvb)，且不超过50M")])],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",disabled:e.disabledSB},on:{click:function(t){return e.submitForm("form")}}},[e._v("提交")]),a("el-button",{attrs:{size:"small "},on:{click:function(t){return e.returnBtn()}}},[e._v("返回")])],1)],1)],1)],1)],1)])],1)],1),a("div",{staticClass:"tableRow"},[a("el-dialog",{attrs:{visible:e.dialogTableVisible,width:"70%",top:"5vh","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap","margin-bottom":"20px"}},[a("span",[a("span",[e._v("客户编码：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.pageQuery.customerCode,callback:function(t){e.$set(e.pageQuery,"customerCode",t)},expression:"pageQuery.customerCode"}})],1)]),a("span",[a("span",[e._v("客户名称：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.pageQuery.customerName,callback:function(t){e.$set(e.pageQuery,"customerName",t)},expression:"pageQuery.customerName"}})],1)]),a("span",{staticClass:"searchCol"},[a("span",[e._v("省份：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small",clearable:""},on:{change:e.provinceChange},model:{value:e.pageQuery.province,callback:function(t){e.$set(e.pageQuery,"province",t)},expression:"pageQuery.province"}},e._l(e.provinces,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)]),a("span",[a("span",[e._v("城市：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-select",{attrs:{disabled:e.disabledCity,placeholder:"请选择",size:"small",clearable:""},model:{value:e.pageQuery.city,callback:function(t){e.$set(e.pageQuery,"city",t)},expression:"pageQuery.city"}},e._l(e.citys,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)]),a("span",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:function(t){return e.commonSearch()}}},[e._v("筛选")])],1)]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"productMessageList",attrs:{"element-loading-text":"Loading",data:e.productMessageList,fit:"","highlight-current-row":"",height:"320px"},on:{"selection-change":e.handleSelectionChange,"row-click":e.clickRow}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60"}}),a("el-table-column",{attrs:{property:"customerCode",label:"客户编码",align:"center",width:"160"}}),a("el-table-column",{attrs:{property:"customerName",label:"客户名称",align:"center"}}),a("el-table-column",{attrs:{property:"province",label:"省份",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"100%",height:"25px",overflow:"hidden"}},[e._l(t.row.province1,(function(r,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.province1.length-1!=n,expression:"scope.row.province1.length -1 != index"}],key:n,staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v(e._s(r+","))])})),e._l(t.row.province1,(function(r,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.province1.length-1==n,expression:"scope.row.province1.length-1==index1"}],key:n,staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v(e._s(r))])}))],2)]}}])}),a("el-table-column",{attrs:{property:"city",label:"城市",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dicFilter")(t.row.city,e.cityes)))]}}])}),a("el-table-column",{attrs:{property:"contacts",label:"联系人",align:"center"}}),a("el-table-column",{attrs:{property:"phone",label:"电话",align:"center"}}),a("el-table-column",{attrs:{property:"useDepartment",label:"科室",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dicFilter")(t.row.useDepartment,e.departments)))]}}])})],1)],1),a("div",{staticClass:"tableBottom"},[a("div",{ref:"paginationContainer",staticClass:"paginationContainer"},[a("el-pagination",{attrs:{small:"",background:"","prev-text":"上一页","next-text":"下一页","current-page":e.pageQuery.page,"page-sizes":e.pageSizes,"page-size":e.pageQuery.rows,layout:"prev, pager, next, total, sizes, jumper",total:e.pageQuery.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.dialogConfirm}},[e._v("确 定")])],1)])],1),a("div",{staticClass:"tableRow"},[a("el-dialog",{attrs:{visible:e.dialogStaffTableVisible,width:"70%",top:"5vh","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogStaffTableVisible=t}}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap","margin-bottom":"20px"}},[a("span",[a("span",[e._v("员工名称：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.pageQueryStaff.staffName,callback:function(t){e.$set(e.pageQueryStaff,"staffName",t)},expression:"pageQueryStaff.staffName"}})],1)]),a("span",[a("span",[e._v("电话：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.pageQueryStaff.phone,callback:function(t){e.$set(e.pageQueryStaff,"phone",t)},expression:"pageQueryStaff.phone"}})],1)]),a("span",{staticClass:"searchCol"},[a("span",[e._v("省份：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small",clearable:""},on:{change:e.provinceChange},model:{value:e.pageQueryStaff.province,callback:function(t){e.$set(e.pageQueryStaff,"province",t)},expression:"pageQueryStaff.province"}},e._l(e.provinces,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)]),a("span",[a("span",[e._v("城市：")]),a("span",{staticStyle:{display:"inline-block","max-width":"100px"}},[a("el-select",{attrs:{disabled:e.disabledCity,placeholder:"请选择",size:"small",clearable:""},model:{value:e.pageQueryStaff.city,callback:function(t){e.$set(e.pageQueryStaff,"city",t)},expression:"pageQueryStaff.city"}},e._l(e.citys,(function(e){return a("el-option",{key:e.id,attrs:{label:e.lable,value:e.value}})})),1)],1)]),a("span",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:function(t){return e.commonSearchStaff()}}},[e._v("筛选")])],1)]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"staffList",attrs:{"element-loading-text":"Loading",data:e.staffList,fit:"","highlight-current-row":"",height:"320px"},on:{"selection-change":e.handleSelectionChangeStaff,"row-click":e.clickRowStaff}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60"}}),a("el-table-column",{attrs:{property:"staffName",label:"员工名称",align:"center"}}),a("el-table-column",{attrs:{property:"phone",label:"电话",align:"center"}}),a("el-table-column",{attrs:{property:"province",label:"省份",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"100%",height:"25px",overflow:"hidden"}},[e._l(t.row.province1,(function(r,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.province1.length-1!=n,expression:"scope.row.province1.length -1 != index"}],key:n,staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v(e._s(r+","))])})),e._l(t.row.province1,(function(r,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.province1.length-1==n,expression:"scope.row.province1.length-1==index1"}],key:n,staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v(e._s(r))])}))],2)]}}])}),a("el-table-column",{attrs:{property:"city",label:"城市",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dicFilter")(t.row.city,e.cityes)))]}}])}),a("el-table-column",{attrs:{property:"email",label:"邮箱",align:"center",width:"180"}})],1)],1),a("div",{staticClass:"tableBottom"},[a("div",{ref:"paginationContainer",staticClass:"paginationContainer"},[a("el-pagination",{attrs:{small:"",background:"","prev-text":"上一页","next-text":"下一页","current-page":e.pageQueryStaff.page,"page-sizes":e.pageSizes,"page-size":e.pageQueryStaff.rows,layout:"prev, pager, next, total, sizes, jumper",total:e.pageQueryStaff.totalCount},on:{"size-change":e.handleSizeChangeStaff,"current-change":e.handleCurrentChangeStaff}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogStaffTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.dialogConfirmStaff}},[e._v("确 定")])],1)])],1)])},n=[],i=(a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),a("28a5"),a("7514"),a("bd86")),o=(a("c5f6"),a("7cdf"),a("20d6"),a("5f87")),s=a("2934"),l=a("0cc0"),c=a("350a"),u={filters:{dicFilter:function(e,t){var a=t.findIndex((function(t){return e==t.value}));return a>-1?t[a].lable:e}},data:function(){var e;return{token:Object(o["a"])(),imgHttp:this.$store.state.settings.socketURL+"/upload/image",imgURL:this.$store.state.settings.imgURL,imagesList:[],imgURLList:[],videoFlag:!1,vidoList:[],videoUploadPercent:0,activeNames:["1"],positions:[],departments:[],productLines:[],disabledModel:!0,models:[],faultTypes:[],hospitals:[],applyTypes:[],provinces:[],disabledCity:!0,citys:[],cityes:[],staffs:[],prioritys:[],customerIdPD:"",disabledSB:!1,dialogTableVisible:!1,productMessageList:[],multipleSelection:[],clientData:[],dialogStaffTableVisible:!1,staffList:[],multipleSelectionStaff:[],staffData:[],form:(e={materielCode:"",customerId:"",image:"",video:"",province:"",city:"",applyType:"",staffId:"",staffName:"",priority:"",owner:"1",deviceId:"",productLine:"",model:"",faultType:"",hospital:"",department:"",contacts:"",phone:"",appointmentDate:"",faultDescribe:"",address:"",customerLevel:"",customerName:"",useDepartment:"",zipCode:""},Object(i["a"])(e,"applyType",""),Object(i["a"])(e,"hasNew",!1),Object(i["a"])(e,"pictureFlag",""),Object(i["a"])(e,"lastRemoveUid",""),e),pageQuery:{userType:"0",customerCode:"",customerName:"",province:"",city:"",totalCount:0,page:1,rows:10},pageQueryStaff:{staffName:"",phone:"",province:"",city:"",totalCount:0,page:1,rows:10},listLoading:!0,tableHeight:250,pageSizes:[10,20,30],rules:{deviceId:[{required:!0,message:"请输入序列号",trigger:"blur"}],productLine:[{required:!0,message:"请选择产品线",trigger:"change"}],model:[{required:!0,message:"请选择型号",trigger:"change"}],applyType:[{required:!0,message:"请选择申请类型",trigger:"change"}],faultType:[{required:!0,message:"请选择故障类型",trigger:"change"}],customerName:[{required:!0,message:"请选择客户",trigger:"change"}],appointmentDate:[{required:!0,message:"请选择预约时间",trigger:"change"}],materielCode:[{required:!1,message:"请输入物料编码",trigger:"blur"}],faultDescribe:[{required:!0,message:"请输入故障描述",trigger:"blur"}],staffId:[{required:!0,message:"请选择人员",trigger:"change"}],priority:[{required:!0,message:"请选优先级",trigger:"change"}]}}},mounted:function(){this.fetchAllDict()},methods:{fetchAllDict:function(){var e=this,t="POSITION,DEPARTMENT,PRODUCT_LINE,EQUI_MODEL,FAULT_TYPE,APPLY_TYPE,PROVINCE,CITY,PRIORITY";Object(s["e"])(t).then((function(t){e.departments=t.data.DEPARTMENT,e.positions=t.data.POSITION,e.productLines=t.data.PRODUCT_LINE,e.models=t.data.EQUI_MODEL,e.faultTypes=t.data.FAULT_TYPE,e.applyTypes=t.data.APPLY_TYPE,e.provinces=t.data.PROVINCE,e.cityes=t.data.CITY,e.prioritys=t.data.PRIORITY}))},productLineChange:function(e){var t=this;this.form.model="",this.disabledModel=!0;var a={};if(a=this.productLines.find((function(t){return t.value===e})),void 0!=a){var r=a.id;this.disabledModel=!1,Object(s["h"])(r).then((function(e){"{}"!=JSON.stringify(e.data)?t.models=e.data.EQUI_MODEL:t.models=[]}))}},provinceChange:function(e){var t=this;this.pageQueryStaff.city="",this.disabledCity=!0;var a={};if(a=this.provinces.find((function(t){return t.value===e})),void 0!=a){var r=a.id;this.disabledCity=!1,Object(s["f"])(r).then((function(e){"{}"!=JSON.stringify(e.data)?t.citys=e.data.CITY:t.citys=[]}))}},selectClient:function(){this.dialogTableVisible=!0,this.fetchListData()},fetchListData:function(){var e=this;this.listLoading=!0;var t=this.pageQuery;Object(c["u"])(t).then((function(t){e.productMessageList=t.data.list,e.pageQuery.totalCount=t.data.total,e.listLoading=!1}))},handleSizeChange:function(e){this.pageQuery.page=1,this.pageQuery.rows=e,this.fetchListData()},handleCurrentChange:function(e){this.pageQuery.page=e,this.fetchListData()},handleSelectionChange:function(e){this.multipleSelection=e},clickRow:function(e){this.$refs.productMessageList.clearSelection(e),this.$refs.productMessageList.toggleRowSelection(e)},commonSearch:function(){var e=this;this.listLoading=!0;var t=this.pageQuery;Object(c["u"])(t).then((function(t){e.productMessageList=t.data.list,e.pageQuery.totalCount=t.data.total,e.listLoading=!1}))},dialogConfirm:function(){0!=this.multipleSelection.length?this.multipleSelection[0].id==this.customerIdPD?(this.form.customerId=this.multipleSelection[0].id,this.form.address=this.multipleSelection[0].address,this.form.customerLevel=this.multipleSelection[0].customerLevel,this.form.customerName=this.multipleSelection[0].customerName,this.form.useDepartment=this.multipleSelection[0].useDepartment,this.form.zipCode=this.multipleSelection[0].zipCode,this.form.contacts=this.multipleSelection[0].contacts,this.form.phone=this.multipleSelection[0].phone,this.form.department=this.multipleSelection[0].useDepartment,this.clientData=this.multipleSelection,this.dialogTableVisible=!1):""==this.customerIdPD?(this.$message.warning("请先输入序列号！"),this.dialogTableVisible=!1):this.$message.warning("产品与客户不相符！您没有资格提报！"):this.$message.warning("请选择客户！")},selectStaff:function(e){console.log(e+"888888888888"),this.dialogStaffTableVisible=!0,this.fetchStaffListData()},fetchStaffListData:function(){var e=this;this.listLoading=!0;var t=this.pageQueryStaff;Object(l["k"])(t).then((function(t){for(var a=t.data.list,r=0;r<=a.length-1;r++){for(var n=[],i=0;i<=a[r].province.split(",").length-1;i++)for(var o=0;o<=e.provinces.length-1;o++)a[r].province.split(",")[i]==e.provinces[o].value&&n.push(e.provinces[o].lable);a[r].province1=n}e.staffList=t.data.list,e.pageQueryStaff.totalCount=t.data.total,e.listLoading=!1}))},handleSizeChangeStaff:function(e){this.pageQueryStaff.page=1,this.pageQueryStaff.rows=e,this.fetchStaffListData()},handleCurrentChangeStaff:function(e){this.pageQueryStaff.page=e,this.fetchStaffListData()},handleSelectionChangeStaff:function(e){this.multipleSelectionStaff=e},clickRowStaff:function(e){this.$refs.staffList.clearSelection(e),this.$refs.staffList.toggleRowSelection(e)},commonSearchStaff:function(){var e=this;this.listLoading=!0;var t=this.pageQueryStaff;Object(l["k"])(t).then((function(t){e.staffList=t.data.list,e.pageQueryStaff.totalCount=t.data.total,e.listLoading=!1}))},dialogConfirmStaff:function(){0!=this.multipleSelectionStaff.length?(this.form.staffId=this.multipleSelectionStaff[0].staffId,this.form.staffName=this.multipleSelectionStaff[0].staffName,this.staffData=this.multipleSelectionStaff,this.dialogStaffTableVisible=!1):this.$message.warning("请选择员工！")},resetForm:function(){var e;this.form=(e={image:"",video:"",province:"",city:"",applyType:"",staffId:"",staffName:"",priority:"",owner:"1",deviceId:"",productLine:"",model:"",faultType:"",hospital:"",department:"",contacts:"",phone:"",appointmentDate:"",faultDescribe:"",address:"",customerLevel:"",customerName:"",useDepartment:"",zipCode:""},Object(i["a"])(e,"applyType",""),Object(i["a"])(e,"hasNew",!1),Object(i["a"])(e,"pictureFlag",""),e)},setDeviceId:function(){var e=this,t={deviceId:this.form.deviceId};this.customerIdPD="",this.form.productLine="",this.form.model="",this.form.customerId="",this.form.address="",this.form.customerLevel="",this.form.customerName="",this.form.useDepartment="",this.form.zipCode="",this.form.contacts="",this.form.phone="",this.form.department="",this.clientData=[],Object(c["r"])(t).then((function(t){e.customerIdPD=t.data.customerId,e.form.productLine=t.data.productLine,e.form.model=t.data.model,e.form.customerId=t.data.customerId,e.form.address=t.data.address,e.form.customerLevel=t.data.customerLevel,e.form.customerName=t.data.customerName,e.form.useDepartment=t.data.useDepartment,e.form.zipCode=t.data.zipCode,e.form.contacts=t.data.contacts,e.form.phone=t.data.phone,e.form.department=t.data.useDepartment,e.clientData.push(t.data)})).catch((function(t){e.form.deviceId=""}))},beforeRemove:function(e,t){if(e.uid==this.lastRemoveUid)return!1;this.lastRemoveUid=e.uid},change:function(e){this.$forceUpdate()},removeImg:function(e,t){this.form.pictureFlag="",this.form.hasNew=!1;var a=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;if(this.form.pictureFlag="1","success"!=s.status){this.form.hasNew=!0;break}}}catch(l){r=!0,n=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}this.imagesList=t,0==this.imagesList.length&&(this.imgURLList=[])},exceedAstrict:function(){this.$message.warning("最多只能上传3张图片哦!")},beforeUploadImg:function(e){var t=e.size/1024/1024<10;return-1==["image/jpeg","image/jpg","image/png"].indexOf(e.type)?(this.$message.error("请上传正确的图片格式哦!"),!1):!!t||(this.$message.error("上传图片大小不能超过10MB哦!"),!1)},fileChange:function(e,t){var a=e.size/1024/1024<10;if(-1==e.name.lastIndexOf(".jpeg")&&-1==e.name.lastIndexOf(".jpg")&&-1==e.name.lastIndexOf(".png"))return this.$message.error("请上传正确的图片格式哦!"),this.imagesList=[],!1;if(!a)return this.$message.error("上传图片大小不能超过10MB哦!"),this.imagesList=[],!1;this.form.pictureFlag="",this.form.hasNew=!1;var r=!0,n=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(this.form.pictureFlag="1","success"!=l.status){this.form.hasNew=!0;break}}}catch(c){n=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}},fileUploadSuccess:function(e,t,a){this.imgURLList.push(e.data),this.imgURLList.length==a.length&&(this.form.image=this.imgURLList.join(","),this.submitInfo(this.form))},handleVideoSuccess:function(e,t){if(this.disabledSB=!1,this.videoFlag=!1,this.videoUploadPercent=0,200!=e.code)return this.$message.error("视频上传失败，请重新上传！"),!1;this.form.video=e.data[0],this.videoFlag=!1,this.vidoList=[]},beforeUploadVideo:function(e){this.disabledSB=!0;var t=e.size/1024/1024<50;return-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(e.type)?(this.$message.error("请上传正确的视频格式"),this.disabledSB=!1,!1):t?void 0:(this.$message.error("上传视频大小不能超过10MB哦!"),this.disabledSB=!1,!1)},uploadVideoProcess:function(e,t,a){this.videoFlag=!0,this.videoUploadPercent=Number(t.percentage.toFixed(0))},delVideo:function(){var e=this;this.$confirm("此操作将移除当前视频, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.form.video="",e.videoFlag=!1,e.vidoList=[]})).catch((function(){e.$message.info("已取消删除")}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if(t.form.hasNew)t.$refs.upload.submit();else{var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=t.$refs.upload.fileList[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;a.push(l.name)}}catch(c){n=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}t.form.image=a.join(","),t.submitInfo(t.form)}}))},submitInfo:function(e){var t=this;delete e["pictureFlag"],Object(c["f"])(e).then((function(e){if(0!=e.data.result){var a=t.form;Object(c["t"])(a).then((function(e){var a={groupId:e.data.groupId,name:t.$store.state.name,type:"后台员工工单",operation:"提报工单",operationRemarks:"",examine:"",examineRemarks:""};Object(s["a"])(a).then((function(e){})),t.$message.success(e.data.message),t.$router.push({name:"StaffRepairs"})}))}else t.$message.warning(e.data.message)}))},returnBtn:function(){this.$router.push({name:"StaffRepairs"})}},destroyed:function(){window.onresize=null}},d=u,p=a("2877"),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports}}]);